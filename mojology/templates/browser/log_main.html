{% macro log_table(columner, logs, is_main = False) -%}
<table id="main_table">
  <thead>
    <tr>
      <th>Date</th>
      <th>Host</th>
      <th>Facility & Level</th>
      <th>Program</th>
      <th>Message</th>
    </tr>
  </thead>
  <tbody>
    {% for log in logs %}
    <tr class="{{ loop.cycle ('odd', 'even') }}{% if is_main %} clickable{% endif %}" data-id="{{ log._id }}">
      <td class="nowrap">{{ columner.get_date (log)|datetime }}</td>
      <td class="nowrap">
	{% if is_main %}
	<a href="{{ url_for ("host", hostname = columner.get_host (log)) }}">{{ columner.get_host (log) }}</a>
	{% else %}
	{{ columner.get_host (log) }}
	{% endif %}
      </td>
      <td class="nowrap">{{ columner.get_facility (log) }}.{{ columner.get_level (log) }}</td>
      <td class="nowrap">{{ columner.get_program (log) }}{% if columner.get_pid (log) %}[{{ columner.get_pid (log) }}]{% endif %}</td>
      <td>
	{% if is_main %}
	<a href="{{ url_for ("log", logid = log._id) }}" class="hidden">{{ columner.get_message (log)|truncate(length=80) }}</a>
	{% else %}
	{{ columner.get_message (log)|truncate(length=80) }}
	{% endif %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{%- endmacro %}
